<section class="page-spacing">
  <h1>{{this.model.title}}</h1>
  <section class="flex space-x-2 w-full">
    <section class="w-1/4">
      <section class="bg-df-pink rounded-lg border-4 border-white p-2 mb-2">
        <img
          src={{this.model.coverArtUrl}}
          alt=""
          class="h-40"
        />
      </section>
      <section class="bg-df-pink rounded-lg border-4 border-white p-2">
        <h4>Hosted By:
          <span
            class="p-4 shrink-0 inline"
            style="height: 3rem; width: 3rem; flex-shrink: 0;"
            >
            <img
            class="rounded-lg inline self-center object-none"
            style="height: 3rem; width: 100%;"
            align="center"
            alt="{{this.username}}"
            src="{{this.userAvatar}}" />
          </span>
          <LinkTo
          @route='home.dj'
          @model={{this.model.username}}
          >
            {{this.model.username}}
          </LinkTo>
        </h4>
      </section>
    </section>
    <section class="w-3/4">
      <section class="bg-df-pink rounded-lg border-4 border-white p-2 mb-2">
        <h3>Rules:</h3>
        <p class="m-2">
          {{this.model.rulePack}}
        </p>
        <div>
          <h3>Status: {{this.model.status}}</h3>
          {{#if (eq this.model.status 'running')}}
            <Shrimpo::Countdown @endAt={{this.model.endAt}} />
          {{/if}}
        </div>
        <h4>{{this.model.savedShrimpoEntries.length}} entries</h4>
        <div>
          Started at: {{format-date this.model.startAt}}
        </div>
        {{#if (eq this.model.status 'completed')}}
          <div>
            Ended at: {{format-date this.model.endedAt}}
          </div>
        {{/if}}
        <p class="m-2">
          <a
            class="cool-button"
            href="{{this.model.zipFileUrl}}">
            DOWNLOAD SHRIMPO PACK (.zip)
          </a>
        </p>
      </section>
      <div>
        {{#if (or
                (or
                  (eq this.model.status 'voting')
                  (eq this.model.status 'completed') )
                (eq this.model.shrimpoType 'major'))
        }}
          {{#each this.model.savedShrimpoEntries as |shrimpoEntry|}}
            <Shrimpo::EntryCard @shrimpoEntry={{shrimpoEntry}} />
          {{/each}}
        {{/if}}
      </div>

      <section class="bg-df-pink rounded-lg border-4 border-white p-2">
        {{#if (eq this.model.status 'running')}}
          {{#if this.session.isAuthenticated}}
            <h2>SUBMIT ENTRY</h2>
            <Shrimpo::EntryUploader @shrimpo={{this.model}} />
          {{else}}
            <span><LinkTo @route="home.sign-up">Create an account</LinkTo> to join the shrimpo.</span>
          {{/if}}
        {{/if}}
      </section>
    </section>
  </section>
</section>